<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background: #fff;
      margin: 2rem;
      font-family: Helvetica, Arial, sans-serif;
    }

    #video-compare-container {
      width: 100%;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      color: #f3f3f3;
    }

    #video-compare-container > video {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }

    #video-clipper {
      width: 50%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      overflow: hidden;
    }

    #video-clipper video {
      width: 200%;
      height: 100%;
      position: absolute;
      top: 0;
    }

    /* Slider Styles */
    .jx-handle {
      position: absolute;
      height: 100%;
      width: 40px;
      cursor: col-resize;
      z-index: 15;
      left: 50%;
      margin-left: -20px;
    }

    .jx-control {
      height: 100%;
      margin-right: auto;
      margin-left: auto;
      width: 3px;
      background-color: currentColor;
    }

    .jx-arrow {
      position: absolute;
      margin: auto;
      top: 0;
      bottom: 0;
      width: 0;
      height: 0;
      transition: all .2s ease;
    }

    .jx-arrow.jx-left {
      left: 2px;
      border-style: solid;
      border-width: 8px 8px 8px 0;
      border-color: transparent currentColor transparent transparent;
    }

    .jx-arrow.jx-right {
      right: 2px;
      border-style: solid;
      border-width: 8px 0 8px 8px;
      border-color: transparent transparent transparent currentColor;
    }

    .jx-handle:hover .jx-arrow.jx-left,
    .jx-handle:active .jx-arrow.jx-left {
      left: -1px;
    }

    .jx-handle:hover .jx-arrow.jx-right,
    .jx-handle:active .jx-arrow.jx-right {
      right: -1px;
    }
    
    #slider-bar {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 3px;
      background-color: currentColor;
      left: 50%;
      z-index: 5;
      pointer-events: none;
    }
  </style>
</head>

<body>
  <center>
    <h1> <b>A</b> VS  <b>B</b> </h1>
    <h3>Click on video to play or pause. Move mouse to change the hover.</h3>
  </center>

  <div id="video-compare-container">
    <video id='src' loop autoplay muted onclick="video_click()">
      <source src="playroom_pup.mp4">
    </video>
    <div id="video-clipper">
      <video id='tgt' loop autoplay muted onclick="video_click()">
        <source src="playroom_lg.mp4">
      </video>
    </div>

    <!-- Handle and Control Bar -->
    <div class="jx-handle">
      <div class="jx-control"></div>
      <div class="jx-arrow jx-left"></div>
      <div class="jx-arrow jx-right"></div>
    </div>

    <div id="slider-bar"></div>
  </div>

  <script>
    var v = document.getElementById("src");
    var v2 = document.getElementById("tgt");

    function video_click() {
      if (v.paused) {
        v.play();
        v2.play(); 
      } else {
        v.pause();
        v2.pause();
      }
      v.currentTime = v2.currentTime;
      v2.currentTime = v.currentTime;
    }

    var videoContainer = document.getElementById("video-compare-container"),
    videoClipper = document.getElementById("video-clipper"),
    sliderBar = document.getElementById("slider-bar"),
    handle = document.querySelector(".jx-handle");

    function trackLocation(e) {
      var rect = videoContainer.getBoundingClientRect(),
        position = ((e.pageX - rect.left) / videoContainer.offsetWidth) * 100;
      if (position <= 100) {
        videoClipper.style.width = position + "%";
        handle.style.left = position + "%";
        sliderBar.style.left = position + "%";
      }
    }

    videoContainer.addEventListener("mousemove", trackLocation, false);
    videoContainer.addEventListener("touchstart", trackLocation, false);
    videoContainer.addEventListener("touchmove", trackLocation, false);
  </script>
</body>
</html>
